<!DOCTYPE html>
<html>
<head>
    <title>WebSoket Demo</title>

    <script type="text/javascript">

        if (!window.WebSocket) {

            alert("WebSocket not supported by this browser!");

        }

        function display() {

            var valueLabel = document.getElementById("valueLabel");

            valueLabel.innerHTML = "";

            var ws = new WebSocket(

                    "ws://localhost:4649/uhf");

            ws.onmessage = function(evt) {

                valueLabel.innerHTML = evt.data;

            };

            ws.onclose = function() {
                valueLabel.innerHTML = "服务器已关闭";

            };

            ws.onopen = function() {

                ws.send("Hello, Server!");
                valueLabel.innerHTML = "已连接服务器";

            };

        }

    </script>

</head>
<body onload="">
    <div id="valueLabel">
    </div>
    <button onclick = "display()">
        发起连接</button>
</body>
</html>
